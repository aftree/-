# RHCE考试题

RHCE7 考试测试题 2017-05-21 王晓春 地点:北京市朝阳区东大桥路 9 号北京侨福芳草地大厦 A 座 8 层，地铁 6 号线东大桥站西 北 A 口出，过红绿灯十字路口，向南约 300 米路西。进电梯前，需在前台登记个人信息， 工作人员发放门禁卡，刷卡才可进入电梯间，离开考场出门禁时，自动回收门禁卡。注意 不要遗失门禁卡。 时间:考试时间共 6 个小时,分成上、下午两部分。上午 2.5 小时,考试内容对应红帽官方第 一、二本教材编号 124 和 134,下午 3.5 小时, 考试内容对应第三本教材编号 254.,一般在上 午 10:00 开始第一部分考试,下午 14:00 开始第二部分考试.建议考生在 9:00 前到达考场。 成绩:上午 EX200 和下午 EX300 两部分满分都是 300 分,及格分都为 210 分，只有两门考试 都通过 210 分，才能获得 RHCE 证书 注意事项: 1. 考场座位自由安排,可提早进考场，自行选择合适座位。考试现场有打印纸,没有笔,如有 需要，建议考生自行准备。 2. 考试的时候请不要小抄或等作弊工具，考官一旦发现不会当场提示考生，但考后结束后 考生的考试成绩将按 0 分计算。 3. 考试的时候手机必须上交，考官一但发现考生的手机没有上交，一律按作弊计算。 4. 考试题目的顺序每个人有可能都不一样，考生可以不按题目顺序完成考试，但要注意不 要落题。 5. 考试题目的分数没有标注，但有可能因为一些题目的错误影响整个考试结果。 6. 考试成绩的判断只关注最终的结果，不关注实现的具体技术过程。 7. 考试时间结束时，考生机器会自动重启，所以考生做的每一项设置必须存盘。 8. 考试提供多种语言共选择，可以在考试的时候随时切换考试语言。 9. 考前要填写个人信息，如姓名，地址，国家等，。其中邮件地址最为重要，填写错误将 无法收到考试成绩。所有内容以英文填写。强烈建议以英文方式显示，不要选中文，否则无 法提交所填写内容。 10. 填写完内容，正式开始考试，物理机自动启动并登陆桌面。桌面有两个图标，一个是题 目内容，一个用于操作虚拟机工具，上午考试必须先配好网络，才能打开相应网址链接看到 考试题目内容。下午不需要配置网络，可直接做题。 11. 通过点击桌面相应图标打开相应工具来操作虚拟机，可直接在虚拟机操作完成考试要求。 但强烈建议在物理机上打开终端工具，远程通过 SSH 连接到虚拟机做题，这样可以复制考试 题目的一些信息，方便提高效率，减少输入错误。 12. 考试成绩最快一般当晚就能以邮件方式下发，也可能延迟两三天。如无法收到成绩，请 使用下面地址和红帽联系 [https://www.redhat.com/training/certification/comments.html](https://www.redhat.com/training/certification/comments.html) 考试内容: 上午 RHCSA:共 18 题，时间 2.5 个小时 考试环境说明: X 为座位号码，一台物理机\(运行 RHEL6\)上运行一台虚拟机\(运行 RHEL7\),对物理机没 有 root 权限.所有实验在虚拟机上完成，虚拟机默认无图形界面，为字符环境。. 请首先按按以下要求配置考试系统: Hostname: server0.example.com IP address: 172.25.0.11 Netmask: 255.255.255.0 Gateway: 172.25.254.254 Name server: 172.25.254.254 所有配置要求系统重启后依然生效 第一题:修改 root 密码 请修改系统的 root 帐号密码为 magedu,确保能够使用 root 帐号能够登陆系统。 第二题:设定 SeLinux 请按下列要求设定系统: SeLinux 的工作模式为 enforcing 要求系统重启后依然生效 第三题:设定 YUM 软件仓库 配置你的本地默认 YUM 软件仓库，仓库地址为: [http://classroom.example.com/content/rhel7.0/x86\_64/dvd](http://classroom.example.com/content/rhel7.0/x86_64/dvd)

第四题:调整逻辑卷容量 请按照以下要求调整本地逻辑卷 lvm1 的容量: 调整后的逻辑卷及文件系统大小为 770MiB 调整后确保文件系统中已存在的内容不能被破坏 调整后的容量可能出现误差，只要在 730MiB - 805MiB 之间都是允许的 调整后，保证其挂载目录不改变，文件系统完成 第五题:创建用户和用户组 请按照以下要求创建用户、用户组: 新建一个名为 adminuser 的组，组 id 为 40000 新建一个名为 natasha 的用户，并将 adminuser 作为其附属组 新建一个名为 harry 的用户，并将 adminuser 作为其附属组 新建一个名为 sarah 的用户，其不属于 adminuser 组，并将其 shell 设置为不可登陆 shell natasha、harry 和 sarah 三个用户的密码均设置为 magedu 第六题:文件权限设定 复制文件/etc/fstab 到/var/tmp 目录下，并按照以下要求配置/var/tmp/fstab 文件的权限: 该文件的所属人为 root 该文件的所属组为 root 该文件对任何人均没有执行权限 用户 natasha 对该文件有读和写的权限 用户 harry 对该文件既不能读也不能写 所有其他用户\(包括当前已有用户及未来创建的用户\)对该文件都有读的权限 第七题:建立计划任务 对 natasha 用户建立计划任务，要求在本地时间的每天 14:23 执行以下命令: /bin/echo "www.magedu.com" 第八题:文件特殊权限设定 在/home 目录下创建名为 admins 的子目录，并按以下要求设置权限:

/home/admins 的所属组为 adminuser 该目录对 adminuser 组的成员可读可执行可写，但对其他用户没有任何权限，root 不受限制 在/home/admins 目录下所创建的文件的所属组自动被设置为 adminuser 第九题:升级内核 新内核的 RPM 包位于 [http://content.example.com/content/rhel7.0/x86\_64/errata/Packages/kernel-3.10.0-](http://content.example.com/content/rhel7.0/x86_64/errata/Packages/kernel-3.10.0-) 123.1.2.el7.x86\_64.rpm 系统重启后，默认以新内核启动系统，原始的内核将继续可用 第十题:配置 LDAP 客户端 在classroom.example.com上已经部署了一台LDAP认证服务器，按以下要求将你的系统加入 到该 LDAP 服务中，并使用 Kerberos 认证用户密码: 该 LDAP 认证服务的 Base DN 为:dc=example.com,dc=com 该 LDAP 认证服务的 LDAP Server 为:classroom.example.com 密码认证服务的 Kerberos Realm 为:EXAMPLE.COM 密码认证服务的 Kerberos KDC 为:classroom.example.com 密码认证服务的 Kerberos Admin Server 为:classroom.example.com 认证的绘画连接需要使用 TLS 加密，加密所用证书请在此下载 [http://classroom.example.com/pub/example-ca.crt](http://classroom.example.com/pub/example-ca.crt) 第十一题:LDAP 用户家目录自动挂载 请使用 LDAP 服务器上的用户 ldapuser0 登陆系统，并满足以下要求: ldapuser0 用户的家目录路径为/home/guests/ldapuser0 ldapuser0 用户登陆后，家目录会自动挂载到 classroom.example.com 服务通过 nfs 服务到处 的/home/guests/ldapuser0 第十二题:同步时间 配置您的系统时间与服务器 classroom.example.com 同步，要求系统重启后依然生效 第十三题:打包文件

请对/etc/sysconfig 目录进行打包并用 bzip2 压缩，生成的文件保存为/root/sysconfig.tar.bz2 第十四题: 添加用户 请创建一个名为 alex 的用户，并满足以下要求: 用户id为3456 密码为 glegunge 第十五题:创建 SWAP 分区 为系统新增加一个 swap 分区: 新建的 swap 分区容量为 512MiB 重启系统后，新建的 swap 分区会自动激活 不能删除或者修改原有的 swap 分区 第十六题:查找文件 请把系统上拥有者为 ira 用户的所有文件，并将其拷贝到/root/findfiles 目录中 第十七题:过滤文件 把/usr/share/dict/words 文件中所有包含 seismic 字符串的行找到，并将这些行按照原始文件 中的顺序存放到/root/wordlist 中，/root/wordlist 文件不能包含空行 第十八题:创建逻辑卷 请按下列要求创建一个新的逻辑卷 创建一个名为 exam 的卷组，卷组的 PE 尺寸为 16MiB 逻辑卷的名字为 lvm2,所属卷组为 exam,该逻辑卷由 8 个 PE 组成 将新建的逻辑卷格式化为 xfs 文件系统，要求系统启动时，该逻辑卷能被自动挂载到 /exam/lvm2 目录

下午 RHCE:共 20 题，时间 3.5 个小时 考试环境说明: 一台真实物理机器会使用普通账号自动登陆，登陆后，桌面会有两个虚拟主机图标，分别 是 server0 和 desktop0，物理机\(运行 RHEL6\)上运行两台虚拟机运行\(运行 RHEL7\)对物 理机没有 root 权限.所有实验在虚拟机上完成，虚拟机默认无图形界面，为字符环境 考生需在两台虚拟机上分别配置 yum 仓库路径: [http://classroom.example.com/centent/rhel7.0](http://classroom.example.com/centent/rhel7.0) ， 网络设置已事先配置完毕，IP 地址自动获取，考生也可以修改为静态地址。 两台虚拟机主机名为 server0.example.com 和 desktop0.example.com IP 地址分别为 172.24.X.50/24 和 172.24.X.60/24，dns 为 172.24.X.254 两个虚拟机都有 3 块网卡 eth0,eth1,eth2 example.com 域中所有主机都 172.24.X.0/24 这个子网中。 另外域 my133t.org 作为非信任域， 地址都在 172.25.0.0/16，需要按下列题目要求拒绝其 访问特定服务 第一题:配置 SeLinux 在 server0 和 desktop0 上要求 SeLinux 的状态为 enforcing。 要求系统重启后依然生效。 第二题:配置防火墙对 SSH 的限制 在 server0 和 desktop0 上设置防火墙,对 SSH 实现以下访问限制: 允许 example.com 域的客户对 server0 和 desktop0 进行 ssh 访问。 禁止 my133t.org 域的客户对 server0 和 desktop0 进行 ssh 访问。 备注:my133t.org 是在 172.25.0.0/16 网络。\(根据考试实际提供的网段配置\) 第三题:配置 IPv6 地址 在你的考试系统上配置接口 eth0 使用以下 IPv6 地址: server0 上的地址应该是 fddb:fe2a:ab1e::c0a8:1/64 \(根据考试实际提供的地址配置\) desktop0 上的地址应该是 fddb:fe2a:ab1e::c0a8:2/64 两个系统必须能够与网络 fddb:fe2a:ab1e/64 内的系统通信。

地址必须在重启后依旧生效。 两个系统必须保持当前的 IPv4 地址并能通信 第四题:配置链路聚合 在 server0 和 desktop0 之间按一下要求配置: 此链路使用接口 eth1 和 eth2 此链路在一个接口失效时仍然能工作 此链路在 server0 使用下面的地址 192.168.0.101/255.255.255.0 此链路在 desktop0 使用下面的地址 192.168.0.102/255.255.255.0 此链路在系统重启之后依然保持正常状态 第五题:自定义用户环境 在系统 server0 和 desktop0 上创建自定义命令为 qstat ，此自定义命令将执行以下命令: /bin/ps –Ao pid,tt,user,fname,rsz 此命令对系统中的所有用户有效 Vim /etc/bashrc 最后加一行 alias 第六题:配置本地邮件服务 在系统 server0 和 desktop0 上配置邮件服务，满足以下要求: 这些系统不接收外部发送来的邮件 这些系统上本地发送的任何邮件都会自动路由到 classroom.example.com 从这些系统上发送的邮件都显示来自 example.com 你可以通过发送邮件到本地用户 student 来测试你的配置，classroom.example.com 已经配置 好。把此用户的邮件转到下列 URL [http://classroom.example.com/cgi-bin/recevied\_mail](http://classroom.example.com/cgi-bin/recevied_mail) 第七题:配置端口转发 在 server0 上配置端口转发，要求如下: 在 172.25.0.0/24 网络中的系统，访问 server0 的本地端口 5423 将被转发到端口 80 此设置必须永久有效。

第八题:通过 SMB 共享目录 在 server0 上配置 SMB 服务 您的 SMB 服务器必须是 STAFF 工作组的一个成员 共享/common 目录，共享名必须为 common 只有 example.com 域内的客户端可以访问 common 共享 Common 必须是可以浏览的 用户 rob，samba 密码为 redhat , 只读权限访问 common 共享。 用户 brian，samba 密码为 redhat ,读写权限访问 common 共享。 备注:考试的时候，用户和密码请根据题目实际情况进行设定，有的时候，题目简单一些， 测试用户早已建立，有的时候，题目较难一些，用户和密码都必须自己设定。 第九题:、配置多用户 SMB 挂载 在 desktop0 上完成以下要求的配置: desktop0 把 server0 的 common 共享通过多用户的方式挂载到本地的/mnt/multiuser \(实际的 共享和挂载点请根据考试题目设定\) 用户 rob，samba 密码为 redhat , 只读权限访问 common 共享。 用户 brain，samba 密码为 redhat ,读写权限访问 common 共享。 该共享要求在系统启动时自动挂载。 第十题:、配置 NFS 服务 在 server0 配置 NFS 服务，要求如下: 以只读的形式共享目录/public 同时只能被 example.com 域中的系统访问。 以读写的形式共享目录/protected 同时只能被 example.com 域中的系统访问。 访问/protected 需要通过 Kerberos 安全加密，您可以使用下面提供的密钥: [http://classroom.example.com/pub/keytabs/server0.keytab](http://classroom.example.com/pub/keytabs/server0.keytab) 目录/protected 应该包含名为 project 拥有人为 ldapuser0 的子目录 用户 ldapuser0 能以读写形式访问/protected/project

第十一题:、挂载一个 NFS 共享 在 desktop0 上挂载一个来自 server0 上的 NFS 共享，并符合下列要求: /pulbic 共享挂载到本地的/mnt/nfsmount。 /protected 挂载到本地的/mnt/nfssecure,并使用安全的方式，密钥下载地址: [http://classroom.example.com/pub/keytabs/desktop0.keytab](http://classroom.example.com/pub/keytabs/desktop0.keytab) 用户 ldapuser0 能够在/mnt/nfssecure/project 上创建文件。 这些文件系统在系统启动时自动挂载。 第十二题:实现一个 web 服务器 在 server0 上配置一个站点 [http://server0.example.com，然后执行以下步骤](http://server0.example.com，然后执行以下步骤): 从 [http://classroom.example.com/materials/station.html](http://classroom.example.com/materials/station.html) 下载文件，并且将文件重命名为 index.html,绝对不能修改此文件的内容。 将 index.html 拷贝到你的 web 服务器的 DocumentRoot 目录下。 来自 example.com 域的客户端可以访问此 web 站点。 来自 my133t.org 域的客户端拒绝访问此 web 站点。 备注:网站的 DocumentRoot 如果题目没有指定，那么随意。 第十三题:配置安全 web 服务 站点 [http://server0.example.com](http://server0.example.com) 配置 TLS 加密。 一个已经签名证书从 [http://classroom.example.com/pub/tls/certs/server0.crt](http://classroom.example.com/pub/tls/certs/server0.crt) 获取 此证书的密钥从 [http://classroom.example.com/pub/tls/private/server0.key](http://classroom.example.com/pub/tls/private/server0.key) 获取 此证书的授权信息从 [http://classroom.example.com/pub/example-ca.crt](http://classroom.example.com/pub/example-ca.crt) 获取 第十四题:配置虚拟主机 在 server0 上扩展你的 web 服务器，为站点 [http://www0.example.com](http://www0.example.com) 创建一个虚拟主机， 然后执行以下步骤: 设置 DocumentRoot 为/var/www/virtual 从 [http://classroom.example.com/materials/www.html](http://classroom.example.com/materials/www.html) 下载文件并重命名为 index.html，不要 对文件 index.html 内容做任何修改。

将 index.htm 文件放到虚拟主机的 DocumentRoot 目录下 确保 floyd 用户能够在/var/www/virtual 目录下创建文件 注意:原始站点 [http://server0.example.com](http://server0.example.com) 必须仍然能够访问。站点的所用的域名网络中已 有 DNS 服务器解析。 第十五题:配置 web 内容的访问 在你的 server0 上的 web 服务器的 DocumentRoot 目录下创建一个名为 private 的目录，要求 如下: 从 [http://classroom.example.com/materials/private.html](http://classroom.example.com/materials/private.html) 下载一个文件副本到这个目录，并且 重命名为 index.html。 不要对这个文件的内容作任何修改。 从 system1 上，任何人都可以浏览 private 的内容，但是从其他系统就不能访问这个目录的 内容。\(注意题目要求谁可以访问，灵活变化\) 备注:此题目是接着上一题，所以这里的 DocumentRoot 指的就是上面的/var/www/virtual/ 第十六题:创建一个脚本 在 server0 上创建一个名为/root/foo.sh 的脚本，让其提供下列特性: 当运行/root/foo.sh redhat，输出 fedora 当运行/root/foo.sh fedora，输出 redhat 当没有任何参数或者参数不是 redhat 或者 fedora 时，其错误输出产生以下的信息: /root/foo.sh redhat\|fedora 第十七题:创建一个添加用户的脚本 在 server0 上创建一个名为/root/batchusers,此脚本能够实现为系统 system1 创建本地用户， 并且这些用户的用户名来自一个包含用户名列表的文件，同时满足下列要求: 此脚本要求提供一个参数，此参数就是包含用户名列表的文件 如果没有提供参数，此脚本应该给出下面的提示信息 Usage: /root/batusers userfile ,并且退出 返回相应的值 如果提供一个不存在的文件名，此脚本应该给出下面的提示信息 Input file not found 然后退 出并返回相应的值 创建的用户登录 shell 为/bin/false 此脚本不需要为用户设置密码\(注意:有得时候需要设置统一密码为 redhat\)

您可以从下面的 URL 获取用户列表作为测试用 [http://classroom.example.com/materials/userlist](http://classroom.example.com/materials/userlist) 第十八题:配置 iSCSI 服务端 配置 server0 提供一个 iSCSI 服务磁盘名为 iqn.2014-11.com.example:server0,并符合下列要求: 服务端口为 3260 使用 iscsi\_store 作为其后端卷，其大小为 3G\(题意含糊，其实 iscsi\_store 是一个逻辑卷,需要 自己建立\) 此服务只能被 desktop0.example.com 访问。 第十九题:配置 iSCSI 的客户端 配置 desktop0 使其能连接在 server0 上提供的 iqn.2014-11.com.example:server0 并符合以下 要求: iSCSI 设备在系统启动的时候自动加载 块设备 iSCSI 上包含一个大小为 2100 MiB 的分区，并格式化为 ext4。 此分区挂载在/mnt/data 上同时在系统启动的期间自动挂载。 第二十题:数据查询填空 在 server0 上登陆数据库，查看 XXX 库进行查询，并将结果填入相应的框格中。 Q1 在 product 表中，查询 RT-AC68U 的产品 id\(\) Q2 查询类别为 Servers 的产品的数量\(\) 模拟考环境请在 [http://classroom.example.com/cgi-bin/mariadb](http://classroom.example.com/cgi-bin/mariadb) 提交

